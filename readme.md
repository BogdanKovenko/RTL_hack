# Дневник достижений

## Введение

**Дневник достижений** — это веб-приложение, которое помогает ученикам отслеживать свои достижения, зарабатывать баллы и сравнивать результаты в рейтинге. Помимо учеников, в системе предусмотрены роли учителей и администраторов. Учителя могут анализировать достижения своих учеников, а администраторы — управлять пользователями, достижениями и форумом.

**Функциональные возможности:**

- **Регистрация и авторизация:**
  - Ученики и учителя могут зарегистрироваться, указав профиль и класс(ы).
  - Регистрация подтверждается кодом, отправленным на электронную почту.
  - Заявки на регистрацию проверяются и подтверждаются администраторами.

- **Добавление достижений:**
  - Ученики могут добавлять свои достижения с указанием описания, категории, уровня, результата, предмета и года.
  - Достижения проходят модерацию администратора и только после этого отображаются в рейтинге.

- **Балльная система:**
  - Баллы начисляются автоматически в зависимости от типа достижения, его уровня и результата.
  - Баллы влияют на позицию ученика в рейтинге.

- **Рейтинг:**
  - Отображается рейтинг всех учеников по количеству набранных баллов.
  - Топ-3 ученика выделяются отдельно.
  - Каждый пользователь может увидеть свою позицию в рейтинге.

- **Функционал для учителей:**
  - Учителя видят достижения своих учеников.
  - Фильтрация достижений по классу, предмету, типу, уровню и дате.
  - Возможность просматривать портфолио конкретного ученика.

- **Административные функции:**
  - Проверка и одобрение/отклонение достижений.
  - Проверка заявок на регистрацию.
  - Корректировка баллов и удаление достижений.
  - Проверка и модерация тем форума.

- **Форум:**
  - Возможность создавать темы (только после модерации).
  - Открытые обсуждения тем с комментариями.
  - Ограничения на частоту комментариев для предотвращения спама.
  - AJAX-обновление комментариев в реальном времени.

- **Смена пароля:**
  - Сброс пароля осуществляется через подтверждение по электронной почте.

## Технологический стек

- **Фронт-энд:** HTML, CSS, JavaScript (шаблоны Jinja2)
- **Бэк-энд:** Python (Flask)
- **База данных:** SQLite (через SQLAlchemy)
- **Дополнительные библиотеки:** Flask-Login, bcrypt, Pillow, smtplib, Flask-WTF, Flask-RESTful, Cachelib

## Использование

1. **Регистрация и вход:**
   - Перейдите на сайт приложения.
   - Зарегистрируйтесь, выбрав роль (ученик/учитель), профиль и класс(ы).
   - Подтвердите регистрацию кодом, полученным на электронную почту.
   - Дождитесь одобрения от администратора.
   - После подтверждения — войдите в систему.

2. **Добавление достижений (для учеников):**
   - Войдите в систему.
   - Перейдите в раздел добавления достижения.
   - Укажите необходимые данные, прикрепите изображение (если нужно) и отправьте на проверку.

3. **Функции для учителей:**
   - Просматривайте достижения учеников по фильтрам.
   - Анализируйте прогресс по классам и предметам.

4. **Форум:**
   - Создавайте темы (только после одобрения администратором).
   - Пишите комментарии (с ограничением по времени между сообщениями).
   - Обсуждайте достижения и школьные события.

5. **Рейтинг:**
   - Сравнивайте свои результаты с другими учениками.
   - Просматривайте топ участников.

6. **Администрирование (для админов):**
   - Модерируйте достижения, форум, пользователей.
   - Управляйте начислением и снятием баллов.

**Использование:**

Перейдите на адрес приложения в браузере. Зарегистрируйтесь как ученик или учитель. Подтвердите свою регистрацию через почту и дождитесь одобрения. Добавляйте достижения, участвуйте в обсуждениях на форуме, просматривайте рейтинг и управляйте профилем. (Администратор) Управляйте пользователями, достижениями и форумом.

Необходимые библиотеки указаны в файле `requirements.txt`.

## Инструкция по сборке и запуску программы

1. Установите необходимые зависимости, выполнив команду:

   ```
   pip install -r requirements.txt
   ```

2. Убедитесь, что все модули загружены, и запустите файл:

   ```
   python main.py
   ```

3. Перейдите по ссылке, указанной в консоли, или вставьте её вручную в адресную строку браузера.
